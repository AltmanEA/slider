# Программа для просмотра лекционных материалов курса

Программа позволяет просматривать лекционные материалы (презентации).  Презентации создаются в формате Markdown и проигрываются с помощью библиотеки ```reveal.js```. 

Лекционные материалы структурируются по темам, для каждой темы создается отдельная папка. В этих папках может быть несколько слайдов - файлов с презентацией. Иллюстрации и другие материалы должны размещаться в папке рядом с файлом, имя папки должно совпадать с именем файла без расширения. Структура материалов должна быть описана в файле ```map.yaml``` (см. пример в папке ```test-course```).

### Подготовка курса

При разработке курса нужно скопировать папку ```test-course``` (и можно ее переименовать). 

Далее нужно запустить веб-сервер.

Проще это сделать если на компьютере установлена платформа [node.js](https://nodejs.org/en). С помощью команды ```npm install``` (в командной строке в папке курса) устанавливается модуль веб-сервера. После этого можно запускать веб-сервер командой ```npm start``` и перейти по адресу, который укажет эта команда. 

Почти также просто, но с немного большим количеством действий, можно использовать программу [simplewebserver](https://simplewebserver.org/). По документации программы запускается веб-сервер и настривается на папку с курсом.

Созданный в папке курс можно выкладывать на любой хостинг статических сайтов.

### Конфигурация

В файле ```index.html``` курс можно найти настройки курса:

```html
window.slider = {
    // contentUrl: "http://127.0.0.1:8080/",
    // audio: true, 
    // audioRecorder: true     
    reload: 2*1000
};
```
Эти настройки можно закомментировать или раскомментировать с помощью ```//``` или можно поменять их значение.

```contentUrl```: адрес сервера с лекционными материалами, используется при разработке программы и обычно лучше оставить закомментированным.

```audio```: включает воспроизведение аудио  материалов к слайда. См. модуль ```AudioShow```.

```audioRecorder```: подключает возможность записывать аудио материалы к слайдам. Подключать имеет смысл при разработке курса с такими материалами. При этом настрока ```audio``` должна быть включена. См. модуль ```AudioShow```.

```reload```: время проверки изменения текущего слайда на сервере. При изменении длины соответсвующего ```md``` файла происходит перезагрузка страницы. Подключать имеет смысл при редактировании курса, что бы сразу можно было бы видеть изменения слайда при редактировании исходного кода. В примере задано 2 секунды, можно изменить исходя из своих предпочтений.

### Модуль ```AudioShow```

Для создания слайдов с звуковым сопровождением можно подключать модуль библиотеки ```reveal.js``` [```audio-slideshow```](https://github.com/rajgoel/reveal.js-plugins/tree/master/audio-slideshow).

Модуль настраивается таким образом, чтобы считывать файлы из папок, имя которых совпадает с именем соответствующего ```md``` файла, а в имени файла указываются координаты файла (см. пример в папке ```test-course```).

При записи с помощью ```audioRecorder``` получаются файлы с правильными именами, но с расширением ```webm;codecs=opus```. При проигрывании таких файлов нет возможности перемотки и не определяется общая длина записи, поэтому их нужно преобразовать в ```mp3```. Преобразовать сразу группу файлов можно с помощью [ffmpeg](https://ffmpeg.org/) или [VLC media player](https://www.videolan.org/vlc/). После преобразования останется только закинуть группу файлов в нужную папку.